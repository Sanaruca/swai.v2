<header class="xlayout flex flex-wrap gap-5 justify-between items-center">
  <section>
    <h3>{{ NIVEL_ACADEMICO_CARDINAL_MAP[cantidad_de_estudiantes.numero] }} AÃ±o</h3>
    <p class="text-sm">{{ cantidad_de_estudiantes.nombre }}</p>
  </section>
  <section class="flex gap-3 items-center">
    <p-button label="Imprimir" icon="pi pi-print" variant="outlined" (onClick)="inprimir.toggle($event)"/>
    <a routerLink="/admin/estudiantes/registrar" [queryParams]="{nivel_academico: NIVEL_ACADEMICO}" pButton class="font-semibold">
      <i class="pi pi-plus"></i> Registrar estudiante
    </a>
    <p-button icon="pi pi-ellipsis-h" severity="secondary" size="large" (onClick)="acciones.toggle($event)"></p-button>
  </section>
</header>

<nav class="xlayout | flex mt-5 gap-4 overflow-auto">
  <aw-info-card
    label="Total de estudiantes"
    icon="pi pi-users"
    [value]="cantidad_de_estudiantes.total"
  ></aw-info-card>

  <aw-info-card
    label="Estudiantes Activos"
    icon="pi pi-check-circle text-green-500"
    [value]="cantidad_de_estudiantes.activos"
    className="bg-green-100 dark:bg-green-600"
    iconContentClassName="bg-green-200"
  ></aw-info-card>

  <aw-info-card
    label="Estudiantes No inscritos"
    icon="pi pi-exclamation-circle text-yellow-600"
    [value]="cantidad_de_estudiantes.no_inscritos"
    className="bg-yellow-100 dark:bg-yellow-600"
    iconContentClassName="bg-yellow-200"
  ></aw-info-card>

  @for (seccion of cantidad_de_estudiantes.secciones; track $index) {
  <aw-info-card
    [label]="'Seccion ' + seccion.seccion"
    [value]="seccion.total"
    [className]="obtener_color_seccion_class(seccion.seccion)"
    [iconContentClassName]="obtener_color_seccion_class(seccion.seccion, true)"
    icon="pi pi-book"
    [link]="['/admin/niveles_academicos', seccion.nivel_academico, seccion.seccion]"
  ></aw-info-card>

  }
</nav>

<section class="xlayout | mt-4">
  <h5>Materias ({{ pensum.areas_de_formacion.length }})</h5>
  <ul class="mt-3 flex flex-wrap gap-1">
    @for (area_de_formacion of pensum.areas_de_formacion; track $index) {
    <li>
      <p-tag
        icon="pi pi-book"
        [value]="area_de_formacion.nombre"
        [rounded]="true"
        styleClass="bg-slate-100 text-current dark:bg-surface-800"
      />
    </li>
    }
  </ul>
</section>

<section class="card | mt-5">
  <h6>Estudiantes</h6>
  <aw-tabla-de-estudiantes [filtros_estaticos]="[{campo: 'nivel_academico', condicion: NumberCondicion.IGUAL, valor: NIVEL_ACADEMICO}]" [omitir_campos_filtros]="['nivel_academico']"/>
</section>

<p-menu [model]="inprimir_menu" [popup]="true" #inprimir/>
<p-menu [model]="acciones_menu" [popup]="true" #acciones/>
